<!DOCTYPE HTML>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#ffd966" />
  <title>Transmat - Share data beyond the boundaries of the browser</title>
  <link rel=icon href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">ðŸŒ€</text></svg>'>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <div class="container">
      <div class="intro">
        <h1>Transmat</h1>
        <p>
          <strong>Share data beyond the browser boundaries</strong><br />
          Interact with third-party apps and open up your application to receive external data.
        </p>
        <p><a class="button" href="https://GitHub.com/google/transmat">View on GitHub</a></p>
      </div>
      <div class="intro-animation">
        <div class="animation">
          <div class="browser b1">
            <div class="controls">
              <span class="c1"></span>
              <span class="c2"></span>
              <span class="c3"></span>
            </div>
            <div class="viewport">
            </div>
          </div>

          <div class="browser b2">
            <div class="controls">
              <span class="c1"></span>
              <span class="c2"></span>
              <span class="c3"></span>
            </div>
            <div class="viewport">
            </div>
          </div>

          <div class="drag">
            <div class="cursor"></div>
            <div class="source"></div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <section class="readme">
    <div class="container">
      <p>
        <img class="payloads" src="payloads.png" alt="Multiple payloads in a single transmit" />
        <strong>Transmat isn't about drag-and-drop, but about sharing data between applications on the web.</strong>
        Transmat is a small library around the
        <a href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer">DataTransfer API</a>
        that eases transmitting and receiving data in your web app using drag-drop and copy-paste
        interactions.</p>
      <p>The DataTransfer API has the ability to transfer multiple string data payloads to any other
        application on the user's device. This technique is
        <a href="https://caniuse.com/mdn-api_datatransfer_setdata">compatible with all modern desktop
          browsers</a> (everything after IE11) and can be used today.</p>

      <hr />

      <div class="demo">
        <p class="intro">
          <strong>Drag or copy the element below</strong> to a new
          <a href="https://google.github.io/transmat" target="_blank">browser window</a>,
          a <a href="https://codepen.io/pen" target="_blank">text editor</a> or
          <a href="https://doc.new" target="_blank">WYSIWYG editor</a>.
        </p>
        <div class="targets">
          <p class="transmitter" tabindex="0" draggable="true">
            <span>
              <strong>Drag or copy me!</strong><br />
              <em>Containing HTML, Text, URL and JSON data.</em>
            </span>
          </p>
          <p class="receiver" tabindex="0">
            <span>Drop or paste here!</span>
          </p>
        </div>
      </div>

      <hr />

      <h2>Getting started</h2>
      <ol>
        <li>
          Install the library from <a href="https://npmjs.com/transmat">NPM</a> (version 0.1.0).
          <pre class="language-js"><code>npm install transmat</code></pre>
        </li>
        <li>Add a draggable and focusable element to your webpage.
          <pre class="language-html"><code>&lt;div id="myElement" draggable="true" tabindex="0"&gt;
  Transmitter and receiver
&lt;/div&gt;</code></pre>

        </li>
        <li><strong>Listen for transmit events on the element.</strong><br />
            Create a new Transmat instance for the event, and provide a object with mime-type / data.
          <pre class="language-js"><code>import {Transmat, addListeners} from 'transmat';

addListeners(myElement, 'transmit', event => {
  const transmat = new Transmat(event);
  transmat.setData({
    'text/plain': 'Hello world!',
    'text/html': '&lt;h1&gt;Hello world!&lt;/h1&gt;',
    'text/uri-list': 'http://example.com',
    'application/json': {foo:'bar'}
  });
});</code></pre>
        </li>

        <li>
          <strong>Listen for receiving events on the element.</strong><br />
          Create a Transmat instance for the event, and, in this case, only accept application/json payload.
          <pre class="language-js"><code>import {Transmat, addListeners} from 'transmat';

addListeners(myElement, 'receive', event => {
  const transmat = new Transmat(event);
  if (transmat.hasType('application/json') && transmit.accept()) {
    const payload = transmat.getData('application/json');
    console.log(JSON.parse(payload));
  }
});</code></pre>
        </li>
      </ol>


      <hr />

      <h2>Connecting the web, with JSON-LD</h2>
      <p><img class="json-ld-logo" src="json-ld.png" alt="JSON-LD" />
        While custom payloads are useful for communication between applications you have in your
        control, it also limits the ability to transfer data to external apps.
        <a href="https://json-ld.org">JSON-LD (Linked Data)</a> is a great universal standard for this;
        </p>
      <ul>
        <li>Easy to generate from JavaScript,</li>
        <li>Many predefined types at <a href="https://schema.org/Thing">Schema.org</a>,</li>
        <li>It can contain custom schema definitions.</li>
      </ul>
      <p>JSON-LD might sound scarier than it is. Hereâ€™s an example of what this looks like for a <a href="https://schema.org/Person">Person</a>:</p>
        <pre class="language-js"><code>const person = {
  '@context': 'https://schema.org',
  '@type': 'Person',
  name: 'Rory Gilmore',
  image: 'https://example.com/rory.jpg',
  address: {
    '@type': 'PostalAddress',
    addressCountry: 'USA',
    addressRegion: 'Connecticut',
    addressLocality: 'Stars Hollow'
  },
};
transmat.setData('application/ld+json', person);</code></pre>
      <p>Transmat comes with several <a href="https://github.com/google/transmat/blob/main/src/json_ld.ts">JSON-LD utilities</a> to ease common interactions with the data.</p>
      <p>
      By using JSON-LD data, you will <strong>support a connected and open web</strong>. Think of
      all the possibilities when you could transfer elements to other applications to continue your work.
      That would be great, right? <strong>This starts with you! ðŸ™Œ</strong></p>

      <hr />

      <h2>Learn more</h2>
      <p>More documentation and examples at the <a href="https://GitHub.com/google/transmat">GitHub repository</a>.</p>
    </div>
  </section>

  <script async src="prismjs.js"></script>
  <script async type="module" src="demo.js"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-WVGTJBXS6K"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-WVGTJBXS6K');
  </script>
</body>
</html>
